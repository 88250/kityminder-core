<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>KityMinder Example</title>

    <link href="favicon.ico" type="image/x-icon" rel="shortcut icon">
    <link rel="stylesheet" href="src/kityminder.css" rel="stylesheet">

    <style type="text/css">
        body {
            margin: 0;
            padding: 0;
            height: 100%;
        }

        #minder-view {
            position: absolute;
            border: 1px solid #ccc;
            left: 10px;
            top: 10px;
            bottom: 10px;
            right: 10px;
        }
    </style>

    <script type="text/javascript" src="node_modules/kity/dist/kity.js"></script>
</head>
<body>
<div id="minder-view"></div>
</body>

<!-- *************************** Module 形式加载引入 **************************** -->
<script type="text/javascript" src="node_modules/seajs/dist/sea-debug.js"></script>
<script type="text/javascript">
  /* global seajs */
  seajs.config({
    base: './src'
  });
  define('start', function (require) {
    var Minder = window.Minder = require('kityminder').Minder;

    // 创建 km 实例
    var km = window.km = new Minder();
    km.renderTo(document.getElementById('minder-view'));
    km.importData("json", `
    {"root":{"data":{"text":"foo","id":"20210113012704-xg9smz8","type":"NodeDocument","isContainer":true},"children":[{"data":{"text":"heading1","id":"20210112105830-6rxq8yp","type":"NodeHeading","isContainer":false},"children":[{"data":{"text":"foo1","id":"20210112105917-nuauzey","type":"NodeParagraph","isContainer":false},"children":[]},{"data":{"text":"foo2","id":"20210113012536-tfh7f5j","type":"NodeParagraph","isContainer":false},"children":[]},{"data":{"text":"foo3","id":"20210113012639-7fqa7zf","type":"NodeParagraph","isContainer":false},"children":[]}]},{"data":{"text":"heading2","id":"20210112105914-en49gba","type":"NodeHeading","isContainer":false},"children":[{"data":{"text":"bar1","id":"20210113012238-k3i86e1","type":"NodeParagraph","isContainer":false},"children":[]},{"data":{"text":"item1","id":"20210112110143-l43nefj","type":"NodeList","isContainer":true},"children":[{"data":{"text":"item1","id":"20210112110144-nrrg37n","type":"NodeListItem","isContainer":true},"children":[]}]},{"data":{"text":"col1col2col3sdfs...","id":"20210113012352-cvdqqdn","type":"NodeTable","isContainer":false},"children":[]}]}]}}
    `).then(function () {
      km.getRoot().setLayout("right")
      km.useTheme("snow");
    })

    km.on("dblclick", (obj) => {
      console.log(km.getSelectedNode())
    })


  });
  seajs.use('start');
</script>
</html>