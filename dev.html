<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>KityMinder Example</title>

    <link href="favicon.ico" type="image/x-icon" rel="shortcut icon">
    <link rel="stylesheet" href="src/kityminder.css" rel="stylesheet">

    <style type="text/css">
        body {
            margin: 0;
            padding: 0;
            height: 100%;
        }

        #minder-view {
            position: absolute;
            border: 1px solid #ccc;
            left: 10px;
            top: 10px;
            bottom: 10px;
            right: 10px;
        }
    </style>

    <script type="text/javascript" src="node_modules/kity/dist/kity.js"></script>
</head>
<body>
<svg id="vditorIconSVG" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <symbol id="iconMove" viewBox="0 0 32 32">
            <path d="M31.892 15.774l-5.104-4.028c-0.049-0.039-0.111-0.062-0.179-0.062-0.16 0-0.289 0.129-0.289 0.289 0 0 0 0.001 0 0.001v-0 2.588h-8.879v-8.879h2.592c0.24 0 0.376-0.28 0.228-0.468l-4.032-5.104c-0.053-0.068-0.134-0.111-0.226-0.111s-0.173 0.043-0.226 0.11l-0.001 0.001-4.032 5.104c-0.039 0.049-0.062 0.111-0.062 0.179 0 0.16 0.129 0.289 0.289 0.289 0 0 0.001 0 0.001 0h2.588v8.879h-8.879v-2.592c0-0.24-0.28-0.376-0.468-0.228l-5.104 4.032c-0.068 0.053-0.111 0.134-0.111 0.226s0.043 0.173 0.11 0.226l0.001 0 5.1 4.032c0.188 0.148 0.468 0.016 0.468-0.228v-2.588h8.879v8.879h-2.592c-0.24 0-0.376 0.28-0.228 0.468l4.032 5.1c0.116 0.148 0.34 0.148 0.452 0l4.032-5.1c0.148-0.188 0.016-0.468-0.228-0.468h-2.584v-8.879h8.879v2.592c0 0.24 0.28 0.376 0.468 0.228l5.1-4.032c0.068-0.054 0.112-0.137 0.112-0.23 0-0.091-0.042-0.172-0.107-0.226l-0.001-0z"></path>
        </symbol>
    </defs>
</svg>
<div id="minder-view"></div>
</body>

<!-- *************************** Module 形式加载引入 **************************** -->
<script type="text/javascript" src="node_modules/seajs/dist/sea-debug.js"></script>
<script type="text/javascript">
  /* global seajs */
  seajs.config({
    base: './src'
  });
  define('start', function (require) {
    var Minder = window.Minder = require('kityminder').Minder;

    // 创建 km 实例
    var km = window.km = new Minder({
      insertNode (node) {
        console.log(node)
      }
    });
    km.renderTo(document.getElementById('minder-view'));
    km.importData("json", `
    {"root":{"data":{
    "priority": "iconMove",
    "text":"foo","id":"20210113012704-xg9smz8","type":"NodeDocument","isContainer":true},"children":[{"data":{"text":"heading1","id":"20210112105830-6rxq8yp","type":"NodeHeading","isContainer":false},"children":[{"data":{
    "priority": "iconMove","text":"foo1","id":"20210112105917-nuauzey","type":"NodeParagraph","isContainer":false},"children":[]},{"data":{"text":"foo2","id":"20210113012536-tfh7f5j","type":"NodeParagraph","isContainer":false},"children":[]},{"data":{"text":"foo3","id":"20210113012639-7fqa7zf","type":"NodeParagraph","isContainer":false},"children":[]}]},{"data":{"text":"heading2","id":"20210112105914-en49gba","type":"NodeHeading","isContainer":false},"children":[{"data":{"text":"bar1","id":"20210113012238-k3i86e1","type":"NodeParagraph","isContainer":false},"children":[]},{"data":{"text":"item1","id":"20210112110143-l43nefj","type":"NodeList","isContainer":true},"children":[{"data":{"text":"item1","id":"20210112110144-nrrg37n","type":"NodeListItem","isContainer":true},"children":[]}]},{"data":{"text":"col1col2col3sdfs...","id":"20210113012352-cvdqqdn","type":"NodeTable","isContainer":false},"children":[]}]}]}}
    `).then(function () {
      km.getRoot().setLayout("right")
      km.useTheme("snow");
    })
  });
  seajs.use('start');
</script>
</html>
